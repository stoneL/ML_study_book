library("birch")
TrainData<-read.table(file="员工培训数据.txt",header=TRUE)
CluData<-as.matrix(TrainData[which(TrainData$X6==1),1:5])
NewData<-as.matrix(TrainData[which(TrainData$X6==2),1:5])
par(mfrow=c(2,3))
plot(TrainData[,1:2],col=TrainData[,6])
set.seed(12345)
Mybirch<-birch(x=CluData,radius=0.4,keeptree=TRUE)
(OutBirch<-birch.getTree(Mybirch)) 
dim(OutBirch) 
plot(OutBirch)
plot(OutBirch,centers=TRUE,xlim=c(0,1),ylim=c(0,1))
set.seed(12345)
kOut<-kmeans.birch(OutBirch,center=3)
plot(OutBirch[,1:2],col=kOut$clust$sub)
birch.addToTree(x=NewData,birchObject=OutBirch)  
OutBirch<-birch.getTree(birchObject=OutBirch)
dim(OutBirch)
plot(OutBirch[,1:2],centers=TRUE,xlim=c(0,1),ylim=c(0,1))
birch.killTree(birchObject=OutBirch)
